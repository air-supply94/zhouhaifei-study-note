### 流和缓冲区

- 流---流代表数据，具体来说是随着时间产生的数据（不同类型的文件）
- 缓冲区---一块用来做缓冲的内存区域(读、写)
  - 写入数据---position++，limit++
  - 读出数据---limit = 0 ;limit++ && limit <= position
  - 清空（应对下一次读写）---position = 0; limit = 0;

### IO 的编程模型

- BIO（Blocking I/O，阻塞 I/O---API 的设计会阻塞程序调用。线程进入阻塞态，线程状态被存在内存中，执行会被中断，不占用 CPU 资源。阻塞态的线程要恢复执行，先要进入就绪态排队，然后轮到自己才能够继续执行
- NIO （None Blocking I/O，非阻塞 IO），API 的设计不会阻塞程序的调用
- AIO （None Blocking I/O，非阻塞 IO）---API 的设计不会阻塞程序的调用
  - 第一条是程序的主干时间线
  - callBackFunction 中的程序是另一条时间线
- 一种常见的 I/O 多路复用模式就是由少量的线程处理大量的网络接收、发送工作。然后再由更多的线程，通常是一个线程池处理具体的业务工作

### RPC---远程过程调用

- RPC 提供远程方法调用，本质是数据传递(提升吞吐量)
- 会考虑多个请求复用一个连接，叫作多路复用
- 单个 TCP 连接的极限传输速度受到窗口大小、缓冲区等因素的制约，不一定可以用满网络资源
- 调用约定和命名
  - 远程调用一个函数，命名空间＋类名＋方法名是一个比较好的选择
  - 注册表---存储了字符串和 IP + 端口的对应关系(hash 存储对应关系)
  - 注册---将写这个 hash 对象的过程，也就是服务被记录的过程
  - 发现---根据名称查找到提供服务的 IP + 端口清单并指定某个 IP + 端口（提供服务）的过程
